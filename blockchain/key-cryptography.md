# 공개 키 암호 방식과 대칭 키 암호 방식

## 대칭 키 암호 방식

* 동작원리
  * 대칭 암호화 방식은 여러 사용자 사이에 공유된 단일 키를 기반
  * 하나의 키로 원본 데이터를 암호화하며, 동일한 키를 사용해 복호화한다.
  * 블록 암호 방식이나 스트림 암호 방식을 사용할 수 있다.
  * 블록 암호 방식
    * 데이터를 미리 정해둔 사이즈로 잘라 청크(chunk) 단위로 그룹화하고, 각 블록을 비밀키로 암호화한다.
  * 스트림 암호 방식
    * 원본 데이터의 길이와 같은 키로 키 스트림(Key Stream)을 생성하고, 원본 데이터와 키 스트림을 XOR 연산하여 암호화한다. 
    * 나중에 복호화 할때도 암호화된 값과 키 스트림을 XOR 연산을 하면 원본 데이터가 나오게 된다.
      * XOR 연산
        * 두 임의의 값 A, B가 모두 참이거나 거짓일때는 거짓, 둘 중 하나만 참일 경우에는 참을 출력하는 연산
* 대칭 키 암호 방식의 장단점
  * 장점
    * 비교적 간결하기 때문에 네트워크나 CPU의 오버헤드가 적고 빠르게 작동한다.
    * 대칭 키 암호 방식은 키의 길이가 길어질수록 무차별 대입 공격을 통한 복호화 난이도가 기하급수적으로 증가한다.
    * 단순히 키의 길이를 늘림으로써 보안을 높일 수 있다.
  * 단점
    * 데이터 암호화 및 복호화에 사용하는 키를 관리하는 것이 어렵다.
    * 여러 사용자가 데이터를 공유하기 위해서는 이 키가 필수적으로 공유되어야 한다.
    * 해당 키가 안전하지 않은 공간에서 공유되는 경우, 악의적인 제삼자를 통해 도난당할 위험이 있다.
    * 허가받지 않은 제삼자가 해당 키를 가지게 된다면 해당 키를 사용한 모든 데이터의 보안에 위협
    * 위험을 예방하기 위해 대부분의 웹 프로토콜은 대칭 암호화와 공개 키 암호 방식을 혼합하여 키를 보호한다.
      * TLS(Transport Layer Security)의 암호화 프로토콜
        * 공개 키 암호 방식을 사용해 대칭 키 암호 방식에 사용할 키를 공유한다.

## 공개 키 암호 방식 (비대칭 키 암호 방식)

* 공개 키 암호 방식의 작동원리
  * 단일 키가 아닌 공개 키와 비밀 키를 사용
    * 공개 키는 전송자가 정보를 암호화 하는데 사용한다.
    * 비밀 키는 수신자가 데이터를 복호화 하는데 사용한다.
  * 공개 키로 암호화 한 데이터는 비밀 키로 복호화 할 수 있어야 하기 때문에, 두 키는 알고리즘에 의해 수학적으로 연결되어있다.
  * 오늘날 사용되는 공개 키 암호 방식 알고리즘은 RSA 암호 방식
    * 두 개의 소수를 곱하여 얻어낸 계수를 사용해 공개 키와 비밀 키를 생성한다.
  * 공개 키 암호 방식은 디지털 서명 방식에 사용
    * 디지털 서명 방식은 기본적으로 메시지와 메시지를 해싱한 값을 함께 보내는 것을 의미
    * 공개 키 암호 방식은 이 해싱한 값을 암호화 및 복호화 하여 데이터의 무결성과 진위성을 검증할 수 있도록한다. 
* 공개 키 암호 방식의 장단점
  * 장점
    * 기존의 대칭 키 암호 방식이 가졌던 키 노출 문제를 해결하여 컴퓨터 보안을 강화하며, 데이터의 무결성을 확인하는 데 사용할 수도 있다.
  * 단점
    * 암호화 및 복호화의 수학적 계산이 매우 복잡하기 때문에, 대량의 데이터를 처리할 경우 오버헤드가 발생하여 속도가 느려질 수 있다.
    * 개인 키가 안전하지 않은 공간에 노출되는 경우, 대응하는 공개 키로 암호화된 모든 데이터의 보안이 위협받게 된다.
* 블록체인에서의 공개 키 암호 방식
  * 공개 키 암호 방식은 트랜잭션을 검증하는 디지털 서명 방식으로 사용
  1. 새로운 암호 화폐 지갑이 설정될 때, 비밀 키가 먼저 생성된다.
  2. 비밀 키를 기반으로 공개 키가 생성된다.
  3. 사용자의 지갑은 이 공개 키를 해싱한 값으로 생성된다. 
  * 지갑은 일종의 계좌번호의 역할을 하여 다른 사람들과 공유할 수 있다. 
    * 비밀 키는 디지털 서명을 생성하고 트랜잭션을 검증할 때 사용되기 때문에 사용자가 각별히 유의하여 보관해야 한다. 
    * 디지털 서명을 통해 해당 암호 화폐 지갑에 대응되는 비밀 키를 가진 사용자만 자금을 사용할 수 있다.
  * 비트코인과 이더리움은 트랜잭션 검증을 위해 ECDSA(타원곡선 디지털서명 알고리즘, Elliptic Curve Digital Signature Algorithm) 알고리즘을 사용해 디지털 서명을 구현

## 공개 키 암호 방식과 대칭 키 암호 방식의 비교 차이점

* 키의 길이
  * 대칭 키 암호화 알고리즘
    * 키의 길이가 임의로 지정되며, 보안 수준에 따라 128 비트나 256 비트로 설정된다.
  * 공개 키 암호화 알고리즘
    * 공개 키와 비밀 키가 수학적으로 한 쌍을 이루어야 하기 때문에 수학적 패턴을 가지고 있다. 
      * 어떠한 패턴을 가졌다는 것은 곧 공격자에 의해 패턴이 간파될 수 있다는 것을 의미한다. 
      * 대칭 키 방식과 동등한 수준의 보안을 제공하기 위해 훨씬 더 긴 키를 사용한다
      * 일반적으로 128비트의 대칭 키와 2,048 비트의 공개 키가 비슷한 수준의 보안을 제공한다.
* 연산 속도
  * 대칭 키 암호 방식
    * 대칭 키 암호 방식에서 사용되는 블록 암호화나 스트림 암호화 모두 연산이 단순하기 때문에 연산 속도가 빠르다. 따라서 
    * 대용량 데이터를 전송해야 할 때 많이 사용한다.
  * 공개 키 암호 방식
    * 복잡한 수학적 연산을 수행해야 하기 때문에 비교적 속도가 느리다.
    * 키 길이가 길기 때문에 훨씬 더 많은 연산 능력을 필요로 한다. 
    * 주로 데이터 전송에 앞서 안전한 통신 채널을 인증하고 구축하기 위한 소규모 트랜잭션(ex. TLS)에 많이 사용된다.
* 보안
  * 대칭 키 암호 방식
    * 단일한 비밀 키를 공유해야 하기 때문에, 키 노출 시 보안 위협이 크다.
  * 공개 키 암호 방식
    * 암호화 할 때 공개 키를 사용하고, 복호화 할 때는 개인 키를 사용하여 이러한 문제를 해결한다.
* 알고리즘
  * 대칭 키 암호 방식 알고리즘
    * RC4, AES, DES, 3DES 등
  * 공개 키 암호 방식 알고리즘
    * RSA, 디피-헬먼, ECC 등