# Account

* 이더리움 주소(Address)와 개인키(Private Key)의 조합
* 이더 잔고를 보유하고 트랜잭션을 전송할 수 있다.
* Address
  * 이더리움 블록체인에서 사용자의 신분증에 해당하는 것
  * 각 주소에는 해당 개인키가 있다.
  * 개인키는 사용자가 알고 있는 일종의 암호
  * 블록체인과 상호작용하려면 주소 + 개인키 쌍이 필요하다.
  * Address는 계좌번호, Account는 송금&이체를 할 수 있는 계좌로 이해할 수 있다.
* Key
  * 키
  * 개인키와 공개키로 구분되어 사용한다.
  * 개인키
    * 무작위로 생성되며 비밀 키로써 유지해야 한다.
  * 공개키
    * 개인키를 연산하며 생성되고 계정을 식별하는 요소로 사용된다.

## Ethereum address 생성 과정

1. 개인 키를 생성한다.
2. 개인 키로부터 공개키를 생성한다.
3. Keccak-256 알고리즘으로 공개 키의 해시값을 계산한다.
4. 생성된 해시값의 뒤쪽 20byte만 남기고 제외 후 이더리움 주소를 생성하게 된다.
   * 20byte로 줄여도 누구나 쉽게 계정 주소를 만들 수 있다.
   * 암호화 알고리즘이 이후에 생성된 계정과 중복이 되지 않아 검증이 필요하지 않기 때문에 20byte만 남겨도 된다.

## Ethereum 2가지 유형 계정

* 외부 소유 계정
  * EOA
  * 공개 주소와 개인 키의 조합
  * 외부 소유 계정, 또는 외부 계정을 사용하면 다른 계정과 이더를 송수신하고 스마트 컨트랙트에 트랜잭션을 보낼 수 있다.
* 컨트랙트 계정
  * CA
  * 상응하는 개인 키가 없다.
  * 스마트 계약을 블록체인에 배포할 때 생성된다.
  * contract로만 표시되기도 한다.
  * 다른 계정과 이더를 송수신하고, 관련된 코드를 담고, EOA나 다른 컨트랙트의 호출을 받아 트랜잭션을 발생시킨다.

## Account 장단점

* 장점
  * 단순성
    * simplicity
    * 개발자의 이익을 위해 직관적인 모델 선택
    * 상태를 추적하여 상태를 기반으로 다른 작업을 수행하는 스마트 컨트랙트 등
    * UTXO의 상태 비저장 모델이 트랜잭션에 상태 정보를 포함하도록 강제하므로 계약의 설계가 불필요하게 복잡해지는 것과 대비된다.
  * 효율성
    * efficiency
    * account는 전송 계정이 거래 비용을 지불하기에 충분한 잔액을 가지고 있는지만 확인하기만 하면 되므로 효율적이다.
* 단점
  * 이중 지불
    * 이중 지불 공격에 노출된다.
    * 점증적인 논스를 구현하여 공격에 대응한다.
    * 모든 계정은 공개적으로 볼 수 있는 논스를 가지고 있고, 거래가 이루어질때마다 논스는 하나씩 증가하게 된다.
    * 동일한 트랜잭션이 두 번 이상 제출 되는 것을 방지할 수 있다.
