# Trilemma Solution

* bitcoin
  * 확장성 높이려는 시도
    * 캐시 블록 크기 증가
    * 블록체인 레이어 위에 레이어 추가
      * 레이어 2 솔루션이 여러 트랜잭션을 함께 묶고 때때로 기본 레이어 블록체인을 쿼리한다. 
* ethereum
  * 샤딩이 기존 레이어 블록체인을 확장하는 하이브리드적 접근 방식
  * 다른 레이어 2 솔루션이 처리량을 더 늘릴 것으로 기대한다.
* 아직까지 완벽한 솔루션은 없다.
* 확장성
  * 노드의 구분
    * 블록체인 데이터 처리 과정에서 노드의 역할을 나눌 수 있다.
    * 특정 노드들에게만 블록 생성의 역할을 맡기고 나머지 노드들은 데이터 생성에만 참여하도록 할 수 있다.
    * 노드의 구분으로 중앙화와 탈중앙화의 적절한 대치점에 노드들의 역할 포지셔닝하여 확장성의 효율화 구현 가능
    * 특정 소수 노드들에게 많은 역할이 배분되면 탈중앙화의 의미가 퇴색된다.
    * 실제 비트코인 채굴노드에서도 소수 노드에 채굴력이 집중화 되는 경향이 있다.
    * PoS 채택하는 블록체인도 자본의 집중화로 만들어지는 합의권력 집중화 문제를 해결하지 못한다. 
  * On-Chain + Off-Chain 결합
    * 탈중앙화 유지하면서도 확장성 문제 해결 시도 하는 경우
      * Off-Chain의 소수 노드들이 관리하는 블록체인 원본 데이터 속성 고려할 때 
      * safety(security) 관점에서 데이터 보안 취약
      * off-chain 노드들에게 발생할 수 있는 해킹 공격 등 취약
  * 많은 노드들이 모든 정보들을 가지고 있을 경우
    * 탈중앙화 강화
    * 확장성 취약성 + 체인 분기와 같은 취약점 부각 가능
* 트릴레마는 탈중앙화를 선택함으로써 발생하는 기회비용이 중앙화를 통해 얻을 수 있는 편익과 동일함으로써 발생하는 문제점이다.
* 시중에 나와있는 암호화폐들은 탈중앙화, 보안성, 확장성의 블록체인 트릴레마를 최대 두 개까지만 해결할 수 있다.
  * 세 개를 동시에 만족시키는 건 물리적으로 불가능하다.
  * 비트코인, 이더리움
    * 탈중앙화 + 안정성
    * 사용자수가 많아지자 트랜잭션 처리 속도가 매우 느려서 문제가 된다.
    * 블록체인이 확장성 문제를 해결하는데 있어 가장 큰 문제가 탈중앙화와 보안이다.
* 차세대 블록체인인 3세대 블록체인들이 문제 해결 시도
  * 처리 속도 올려 확장성 문제를 해결했을 경우 탈중앙화나 보안에서 문제가 발생된다.
  * 확장성 문제와 탈중앙화 및 보안성이 서로 상반되는 성격을 가지기 때문
  * 하나를 해결하기 위해서는 반대쪽 개념이 가장 큰 문제점으로 꼽히고 이싸.

## 레이어 1

* layer 1
* 탈중앙화 생태계에서 레이어 1은 비트코인, 라이트 코인, 이더리움과 같은 블록체인 프로토콜을 의미한다. 
* 합의 프로토콜 개선
  * 작업 증명은 현재 비트코인과 같은 인기 있는 블록체인 네트워크에서 사용 중인 합의 프로토콜
  * PoW는 안전하지만 속도도 느리다. 
    * 비트코인은 7개의 TPS만 달성한다.
  * 많은 블록체인 네트워크(아마도 가장 주목할만한 이더리움 2.0으로의 이더리움 업그레이드)가 지분증명(PoS) 합의 메커니즘을 선호한다. 
  * 채굴자가 상당한 컴퓨팅 성능을 사용하여 암호화 알고리즘을 해결하도록 요구하는 대신 PoS 합의 프로토콜은 네트워크 지분을 기반으로 검증인 상태를 결정한다. 
  * 이더리움 네트워크의 용량을 극적이고 근본적으로 증가시키는 동시에 탈중앙화를 높이고 보안을 보장할 것으로 예상된다.
* 샤딩(Sharding)
  * 분산 데이터베이스에서 채택
  * 블록체인 부문 내에서 다소 실험적인 특성에도 불구하고 가장 인기 있는 Layer-1 확장 솔루션 중 하나
  * 샤딩은 트랜잭션을 샤드(Shard; 조각)라고 하는 더 작은 데이터 세트로 나눕니다. 
    * 이러한 샤드는 네트워크에서 동시에 병렬로 처리되므로 동시에 수많은 트랜잭션에 대한 순차적 작업이 가능하다. 
    * 각 네트워크 노드가 제네시스의 모든 블록 사본을 보유하도록 한다.
      * 이 정보는 서로 다른 노드에 의해 분할되고 유지될 수 있다.
      * 각 노드는 그 자체로 일관성을 유지한다. 
      * 샤드는 메인체인에 증거를 제공한다.
      * 교차 샤드 통신 프로토콜을 사용하여 주소, 잔액 및 일반 상태를 공유하기 위해 서로 상호 작용한다.

## 레이어 2

* layer 2
* 기본 블록체인 프로토콜 위에서 작동하여 확장성과 효율성을 향상시키는 네트워크 또는 기술
  * 비트코인은 레이어 1 프로토콜
  * 라이트닝 네트워크는 비트코인 네트워크에서 트랜잭션 속도를 향상시키기 위해 구축된 레이어 2 솔루션
* 최근 몇 년 동안 엄청나게 성장했다.
* PoW 네트워크 확장성 문제를 극복하는 가장 효율적인 방법
* 중첩 블록체인
  * 메인 블록체인을 활용하여 더 넓은 네트워크에 대한 매개변수를 설정한다.
  * 실행은 보조 체인의 상호 연결된 웹에서 수행되는 분산형 네트워크 인프라
  * 여러 블록체인 레벨이 메인 체인에 구축된다.
  * 부모 자식 연결을 사용한다.
  * 부모 체인 대리자는 자식 체인의 작업 결과를 다시 부모에게 보내는 작업을 수행한다.
  * 기본 블록체인은 분쟁 해결이 필요한 경우가 아니면 네트워크 기능에 참여하지 않는다.
  * OMG Plasma project
    * 더 빠르고 저렴한 거래를 촉진하기 위해 레이어 1 이더리움 위에서 활용되는 레이어 2 중첩 블록체인 인프라의 예
  * 이 모델에 따른 작업 분배는 메인 체인의 처리 부담을 줄여 확장성을 기하급수적으로 향상시킨다.
* 상태 채널
  * 전체 트랜잭션 용량과 속도를 개선하기 위해 다양한 매커니즘을 사용하여 블록체인과 오프체인 트랜잭션 채널 간의 양방향 통신을 용이하게 한다.
  * 트랜잭션을 검증하기 위해 즉각적이 광부 개입이 필요하지 않다.
    * 상태 채널은 다중 서명 또는 스마트 계약 매커니즘을 사용하여 봉인된 네트워크 인접 리소스이기 때문이다.
  * 트랜잭션 또는 트랜잭션 배치가 상태 채널에서 완료되면 채널의 최종 상태와 모든 고유한 전환이 기본 블록체인에 기록된다.
  * liquid network, celer, bitcoin lightning 및 ethereum raiden 네트워크 등
  * 트릴레마 트레이드오프에서 더 큰 확장성을 달성하기 위해 어느 정도 탈중앙화를 희생한다.
* 사이드 체인
  * 대규모 배치 트랜잭션에 사용되는 블록체인 인접 트랜잭션 체인
  * 속도와 확장성을 위해 최적화할 수 있는 원래 체인에 대한 독립적인 합의 매커니즘을 사용
  * 유틸리티 토큰은 종종 사이드 체인과 메인 체인 간의 데이터 전송 매커니즘 일부로 사용된다.
  * 메인 체인의 주요 역할
    * 전반적인 보안 및 분쟁 해결을 유지하는 것
  * 사이드 체인 트랜잭션은 참가자간에 비공개가 아니다.
  * 사이드 체인 트랜잭션은 공개적으로 원장에 기록된다.
  * 사이드체인 보안 침해는 메인 체인이나 다른 사이드 체인에 영향을 미치지 않는다.
  * 사이드체인을 구축하려면 인프라가 처음부터 구축되기 때문에 노력이 필요하다. 


