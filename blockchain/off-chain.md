# Off-Chain

## Litecoin

* 라이트코인
* 비트코인 기반으로 만들어진 작고 가벼운 암호화폐
* 등장 배경
  * 블록체인 기반 암호화폐는 거래할 때마다 서로의 거래 내용을 블록체인에 올려야 거래가 마무리된다.
  * 비트코인의 거래량이 늘어나다보니 거래 속도가 크게 떨어졌다.
    * 다중 장부로 저장해야 할 거래 내용이 많아지다보니 처리 속도가 느려졌다.
    * 높은 거래 수수료도 문제이다.
* Lightning Network
  * 라이트닝 네트워크
  * off-chain 거래
    * 모든 거래 내용을 오프체인에 등록한 뒤 모든 거래 내역을 종합해 최종 결과만 온 체인 (on-chain)에 업로드하는 방식
    * 블록체인 상에서 거래가 이루어지지 않기 때문에 승인 대기 시간이 생략되며 즉시 완료된다.
    * 오프체인 거래를 함으로써 채굴자에게 수수료를 주지 않아도 되기 때문에 거래 수수료가 제로에 가깝게 낮아진다.
    * 블록체인 기술이 아니다.
  * Multi-signature 다중키 + hashed timelock contract 시간 잠금 계약을 활용해 신뢰를 확보한다.
    * A와 B가 공동 계좌를 만들고 다중 키로 설정한다.
    * 블록체인에서 장부를 변경하기 위해서는 두 사람 모두의 비밀 키가 필요하다.
    * 오프체인에서 둘의 합의로 갱신해나가다가 장부를 청산할 때 다중 키를 이용해 온체인한다.
    * 둘 사이에 합의된 거래는 시간 잠금 계약을 걸기 때문에 한 사람이 합의를 뒤집고 자신에게 유리한 형태로 장부를 온체인할 수 없다.
  * 탈중앙화와 안정성을 베이스로 두고 확장성을 높이려는 작업의 일환
    * 비트코인의 경우 라이트닝 네트워크
    * 이더리움의 경우 라이덴 네트워크
    * 확장성 진영은 트릴레마를 극복했다고 주장한다.
      * 이오스의 경우 검증노드가 21개라 11개 검증 노드만 무너트리면 해킹을 당할 위험이 있지만 검증노드들이 개인이 아니라 회사 규모라 거대하고 전세계적으로 존재하기 때문에 해킹이 불가능하다.
      * 서버 자체가 프라이빗 영역이라 온라인에서 해킹을 하는 것이 불가능하다.
      * APT Advanced Persistent Threat 지능형 지속 공격을 하더라도 전 세계에 퍼진 노드를 APT 공격하는 것은 불가능하다.
    * 탈중앙화의 경우 검증 노드가 소수이지만 검증 노드를 선거할 수 있는 권한이 있기 때문에 어느정도 탈중앙화이다.
    * 현재 3가지를 어느정도 충족한 D(delegate 위임)의 의지를 가진 암호화폐들이 3세대 암호화폐의 주축을 이루고 있다.
    * 기존에 코인으로 전환을 하기 힘들었던 토큰들이 DPoS와 유사한 개념으로 메인넷을 런칭한다.

## 라이트닝 네트워크

* Lightning network
* 양방향 채널이라는 아이디어 기반
* 매우 저렴한 비용으로 즉각적인 거래가 가능한 비트코인 레이어(또는 레벨) 2의 솔루션
* P2P교환을 갖추고 있지만 관리를 위임하지 않는 채널 네트워크에서도 돈을 교환할 수 있다.
* 거래는 다른 모든 사람들의 잔액에 대한 인증 역할을 하는 첫 번째와 마지막을 제외하고는 오프 체인이다.
* 기존 비트 코인의 느린 처리 속도를 해결하고 빠른 속도를 구현하기 위해 별도 거래를 별도의 채널(off-chain)에서 처리한 후 그 결과만 블록체인에 기록하는 방식으로 작동하는 알고리즘
* 탈중앙화와 보안 기본, 확장성 높이기 위한 작업
* 개별 노드 간에 일상적으로 반복되는 소액 거래 내역을 처리할 수 있도록 메인 블록체인 외부에 별도 채널을 구축한 오프체인 솔루션
* 거래된 내용은 모든 노드들의 승인을 받지 않고 계약 당사자들끼리 합의를 통해 확정되고 블록체인에 저장되지도 않는다.
* 반복적인 거래가 모두 끝난 후 오프체인을 닫을 때 최종 거래내역만 블록체인에 저장된다.
* 승인 과정이 간단하고 반복적인 소액 거래가 블록체인에 저장되지 않아 처리 속도는 빨라진다.
* 문제점
  * 블록체인 기술이 아니고 제 3자 세력이 필요하기 때문에 확장성 진영에서 좋게 보지 않는다.
  * 검증 노드가 소수이기 때문에 비난받는다.
* 비트코인, 라이트코인 모두 참여
* 퀀텀(Qtum 비트코인 DNA 반을 보유)도 참여한다.
* 라이트닝 네트워크가 활발해지면 비트코인 확장성이 많이 개선될 것이다.
* 비트코인이 잠재적으로 확장성 요구 사항에 대한 솔루션을 찾았고 수천 TPS에 도달할 가능성이 있다.