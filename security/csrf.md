# CSRF

* Web Application Security에서 방지해야 하는 공격
* 개발자들이 웹사이트, 모바일 앱, 웹 API 등을 만들 때에 해커들의 공격을 막기 위해 보안은 필수 사항이다. 
  * SQL Injection, XSS, CSRF 등
* Cross Site Request Forgery
  * 다른 사이트 (cross-site)에서 유저가 보내는 요청(request)을 조작(forgery)하는 것
    * 이메일에 첨부된 링크를 클릭하면 은행 계좌에서 돈이 출금되는 식
  * 해커가 직접 데이터에 접근할 수 없다. 
    * 다른 오리진이기 때문에 response에 직접 접근할 수 없다. 
* **공격 정보**
  * 쿠키를 사용해 로그인해야한다.
    * 유저가 로그인 했을 때 쿠키로 어떤 유저인지 알 수 있어야 한다.
  * 예측할 수 있는 요청/파라미터를 가지고 있어야 한다.
    * request에 해커가 모를 수 있는 정보가 담겨있으면 안 된다.
* **대처**
  * CSRF 토큰 사용하기
    * 서버 측에서 CSRF 공격에 보호하기 위한 문자열을 유저의 브라우저와 웹 앱에만 제공한다. 
  * Same-site cookie 사용하기
    * 같은 도메인에서만 세션/쿠키를 사용할 수 있다. 